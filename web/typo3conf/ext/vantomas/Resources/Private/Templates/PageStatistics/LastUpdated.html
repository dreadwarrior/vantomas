<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
	  xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
	  xmlns:vhs="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
	  xmlns:vt="http://typo3.org/ns/DreadLabs/Vantomas/ViewHelpers">
	<head>
		<title>Last Updated Pages Template</title>
	</head>
	<body>
		<f:layout name="Default" />

		<f:section name="Main">
			<f:render
				section="LastUpdated{settings.templateVariant -> vhs:format.case(case: 'ucfirst')}"
				arguments="{ pages: pages }" />
		</f:section>

		<f:section name="LastUpdatedHeroUnit">
			<f:for each="{pages}" as="page">
				<section class="hero row">
					<div class="small-12 large-7 large-centered columns">
						<h1><f:link.page pageUid="{page.id.value}"><vhs:if stack="{ 0: '{page.subTitle}', 1: '==', 2: '' }" then="{page.title}" else="{page.subTitle}" /></f:link.page></h1>
						<p>
							<f:format.date date="{page.lastUpdatedAt}" format="F jS, Y" /> • {page.keywords} • <f:link.page pageUid="{page.id.value}" section="comment-list">comments</f:link.page>
						</p>
						<div class="row">
							<div class="small-12 large-12 columns">
								<div class="panel">
									<vt:page.teaserImage imageResource="{vt:resource.getFileIdentifiers(table: 'pages', field: 'media', uid: page.id.value)}" titleText="{page.subtitle}" titleTextAlternative="{page.title}" />
								</div>
								<f:format.html>{page.abstract}</f:format.html>
							</div>
						</div>
						<div class="row">
							<div class="small-12 large-12 columns">
								<f:link.page pageUid="{page.id.value}" class="right small radius button">read more »</f:link.page>
							</div>
						</div>
					</div>
				</section>
			</f:for>
		</f:section>

		<f:section name="LastUpdatedMinorUnit">
			<f:for each="{pages}" as="page">
				<section class="minor">
					<div class="row">
						<div class="small-12 large-12 columns">
							<h2><vhs:if stack="{ 0: '{page.subTitle}', 1: '==', 2: '' }" then="{page.title}" else="{page.subTitle}" /></h2>
							<f:format.html>{page.abstract}</f:format.html>
						</div>
					</div>
					<div class="row">
						<div class="small-12 large-12 columns">
							<f:link.page pageUid="{page.id.value}" class="right small radius button">read more »</f:link.page>
						</div>
					</div>
				</section>
			</f:for>
		</f:section>
	</body>
</html>