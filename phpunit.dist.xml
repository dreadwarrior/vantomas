<?xml version="1.0" encoding="UTF-8"?>
<phpunit
		backupStaticAttributes="false"
		bootstrap="./vendor/autoload.php"

		cacheTokens="false"
		colors="true"
		convertErrorsToExceptions="true"
		convertWarningsToExceptions="true"
		convertNoticesToExceptions="true"
		forceCoversAnnotation="false"
		mapTestClassNameToCoveredClassName="false"
		printerClass="PHPUnit_TextUI_ResultPrinter"

		processIsolation="false"
		stopOnError="false"
		stopOnFailure="false"
		stopOnIncomplete="false"
		stopOnSkipped="false"
		testSuiteLoaderClass="PHPUnit_Runner_StandardTestSuiteLoader"

		strict="false"
		verbose="false"

		>

	<php>
		<ini name="error_reporting" value="E_ALL &amp; ~E_NOTICE &amp; ~E_STRICT &amp; ~E_DEPRECATED" />
	</php>
	
	<logging>
		<log type="coverage-html" target="./build/phpunit-coverage" charset="UTF-8" highlight="true" lowUpperBound="35" highLowerBound="70" />
		<log type="coverage-clover" target="./build/phpunit-clover.xml" />
	</logging>

	<testsuites>
		<testsuite name="AllTests">
			<directory>./src/**/Tests</directory>
		</testsuite>
	</testsuites>
	
	<filter>
		<!-- 
		addUncoveredFilesFromWhitelist = true leads to non-working code coverage reporting (maybe because of die() or exit() calls)
		 -->
		<whitelist processUncoveredFilesFromWhitelist="true" addUncoveredFilesFromWhitelist="false">
			<directory suffix=".php">./src/**/Classes/**</directory>
			<exclude>
				<directory suffix="ext_emconf.php">./src/</directory>
				<directory suffix="ext_localconf.php">./src/</directory>
				<directory suffix="ext_tables.php">./src/</directory>
				<directory suffix="tca.php">./src/</directory>
			</exclude>
		</whitelist>
	</filter>
</phpunit>