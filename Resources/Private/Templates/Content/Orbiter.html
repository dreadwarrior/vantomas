{namespace flux=FluidTYPO3\Flux\ViewHelpers}
{namespace vhs=Tx_Vhs_ViewHelpers}

<f:layout name="FCE" />

<f:section name="Configuration">
	<flux:form id="orbiter" label="LLL:EXT:vantomas/Resources/Private/Language/Elements/Orbiter.xlf:label" description="LLL:EXT:vantomas/Resources/Private/Language/Elements/Orbiter.xlf:description" enabled="TRUE" wizardTab="vantomas">
		<flux:form.section name="images" label="LLL:EXT:vantomas/Resources/Private/Language/Elements/Orbiter.xlf:fields.images">
			<flux:form.object name="image" label="LLL:EXT:vantomas/Resources/Private/Language/Elements/Orbiter.xlf:fields.image">
				<flux:field.file name="src" label="LLL:EXT:vantomas/Resources/Private/Language/Elements/Orbiter.xlf:settings.fields.image.src" />
				<flux:field.input name="caption" label="LLL:EXT:vantomas/Resources/Private/Language/Elements/Orbiter.xlf:settings.fields.image.caption" />
			</flux:form.object>
		</flux:form.section>
	</flux:form>
</f:section>

<f:section name="Preview">
	<dl>
		<f:for each="{images}" as="sectionObject">
			<dt><vhs:media.image src="{sectionObject.image.src}" alt="" width="62" /></dt>
			<dd>{sectionObject.image.caption}</dd>
		</f:for>
	</dl>
</f:section>

<f:section name="Main">
	<ul data-orbit>
		<f:for each="{images}" as="sectionObject">
			<li>
				<vhs:media.image src="{sectionObject.image.src}" alt="Test" />
				<f:if condition="{sectionObject.image.caption}">
					<div class="orbit-caption">{sectionObject.image.caption}</div>
				</f:if>
			</li>
		</f:for>
	</ul>
</f:section>